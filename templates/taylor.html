{% extends "base.html" %}

{% block title %}Aproximación de Taylor{% endblock %}

{% block content %}
<div class="container">
    <h1>Aproximación de Taylor</h1>
    <form action="{{ url_for('taylor') }}" method="post">
        <div class="form-group">
            <label for="function">Función (en términos de x):</label>
            <input type="text" id="function" name="function" required>
        </div>
        <div class="form-group">
            <label for="n_terms">Número de términos de la serie de Taylor:</label>
            <input type="number" id="n_terms" name="n_terms" required min="1"> <!-- Verifica que 'x0' y 'n_terms' coincidan -->
        </div>
        <div class="form-group">
            <label for="x_min">x mínimo:</label>
            <input type="number" step="any" id="x_min" name="x_min" required>
        </div>
        <div class="form-group">
            <label for="x_max">x máximo:</label>
            <input type="number" step="any" id="x_max" name="x_max" required>
        </div>
        <div class="form-group">
            <label for="y_min">y mínimo:</label>
            <input type="number" step="any" id="y_min" name="y_min" required>
        </div>
        <div class="form-group">
            <label for="y_max">y máximo:</label>
            <input type="number" step="any" id="y_max" name="y_max" required>
        </div>
        <button type="submit" class="btn">Generar Gráfica</button>
    </form>
    
    {% if taylor_latex %}
        <div>
            <h2>Fórmula de la serie de Taylor</h2>
            <p>{{ taylor_latex | safe }}</p>
        </div>
    {% endif %}

    {% if graph_url %}
        <div id="result">
            <img src="data:image/png;base64,{{ graph_url }}" alt="Gráfica de Taylor">
        </div>
    {% endif %}
</div>

<a href="{{ url_for('main') }}" class="floating-button">Volver</a> <!-- Asegúrate de que 'main' esté definido en tus rutas -->

{% endblock %}

